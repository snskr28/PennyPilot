<div class="forgot-back-btn">
  <button mat-icon-button (click)="goBack()" aria-label="Back to Login">
    <mat-icon>arrow_back</mat-icon>
  </button>
</div>
<div *ngIf="!sent; else sentMsg">
  <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email or Username</mat-label>
      <input
        matInput
        formControlName="emailOrUsername"
        placeholder="Enter your email or username"
      />
      <mat-error
        *ngIf="forgotForm.get('emailOrUsername')?.hasError('required')"
      >
        This field is required
      </mat-error>
    </mat-form-field>
    <div *ngIf="error" class="error-message">{{ error }}</div>
    <button
      mat-raised-button
      color="primary"
      class="auth-button full-width"
      [disabled]="forgotForm.invalid || loading"
    >
      {{ loading ? "Sending..." : "Send Password Reset Link" }}
    </button>
  </form>
</div>
<ng-template #sentMsg>
  <div class="success-message">
    Password reset link sent! Please check your email.
  </div>
</ng-template>
<router-outlet></router-outlet>
